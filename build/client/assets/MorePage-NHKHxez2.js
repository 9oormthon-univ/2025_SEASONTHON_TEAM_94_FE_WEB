import{j as e,L as x,w as p,r as o}from"./chunk-PVWAREVJ-B6zbi7fP.js";import{C as f,a as u,P as j,M as b,u as N}from"./useReport-D0CzwX5g.js";import{h as d,A as m,M as g}from"./httpClient-CWcscfoA.js";import{E as v}from"./ExpenseHeader-DB5zjICS.js";import"./utils-B3HXpwuO.js";function w({name:a,email:s,onEdit:l}){return e.jsxs("section",{className:"px-7 pt-4 pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-[18px] md:text-[20px] font-semibold text-[#002B5B]",children:[a," 님"]}),e.jsx("button",{"aria-label":"닉네임 수정",onClick:l,className:"p-1 -mt-0.5 text-[#002B5B] hover:opacity-80",children:"✎"})]}),e.jsx("div",{className:"mt-1 text-[11px] text-[#757575]",children:s})]})}function y({title:a="초과지출",barPercent:s,percentCenterLeft:l,barLabel:r,monthlyGoal:n,className:i,setGoalTo:c="/report"}){return e.jsx(f,{className:`mx-4 mt-4 rounded-lg border-0 shadow-none ${i??""}`,children:e.jsxs(u,{className:"p-4 h-full",children:[e.jsx("div",{className:"text-center text-[15px] font-semibold text-[#002B5B]",children:a}),e.jsx("div",{className:"mt-3",children:e.jsx(j,{barPercent:s,percentCenterLeft:l,barLabel:r})}),e.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-[#757575]",children:[e.jsx(x,{to:c,className:"mx-auto text-[#BDBDBD] hover:underline underline-offset-2",children:"목표 초과지출 설정"}),e.jsx(b,{children:n>0?`- ${n.toLocaleString()}원`:"0원"})]})]})})}async function C(){try{return(await d.get(m.USERS_ME)).data}catch{return{name:"여울",email:"yunsooga@gmail.com",userUid:g}}}async function k(){await d.post(m.AUTH_LOGOUT)}const U=p(function(){const[s,l]=o.useState(null),{monthlyGoal:r,barPercent:n,percentCenterLeft:i,barLabel:c}=N();o.useEffect(()=>{(async()=>{const t=await C();l(t)})()},[]);const h=[{type:"link",label:"서비스 이용약관",to:"/terms"},{type:"external",label:"개발자 링크",href:"https://example.com"},{type:"link",label:"리뷰쓰기",to:"/reviews/new"},{type:"action",label:"로그아웃",onClick:async()=>{await k()}}];return e.jsxs("div",{className:"min-h-screen bg-[rgba(235,235,235,0.35)] relative max-w-md mx-auto",children:[e.jsx(v,{}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(w,{name:(s==null?void 0:s.name)??"사용자",email:(s==null?void 0:s.email)??"",onEdit:()=>{}}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-[80vh]",children:[e.jsx("div",{className:"flex-[5]",children:e.jsx(y,{className:"h-full",title:"초과지출",barPercent:n,percentCenterLeft:i,barLabel:c,monthlyGoal:r})}),e.jsxs("div",{className:"flex-[3] bg-white ",children:[e.jsxs("p",{children:[e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("nav",{className:"px-6 space-y-10 tracking-wide leading-5",children:h.map(t=>"to"in t?e.jsx(x,{to:t.to,className:"block text-[14px] text-[#8F8F8F] no-underline font-light",children:t.label},t.label):"href"in t?e.jsx("a",{href:t.href,target:"_blank",rel:"noreferrer",className:"block text-[14px] text-[#8F8F8F] no-underline font-light",children:t.label},t.label):e.jsx("button",{onClick:t.onClick,className:"block w-full text-left text-[14px] text-[#8F8F8F] font-light",children:t.label},t.label))})]})]})]})]})});export{U as default};

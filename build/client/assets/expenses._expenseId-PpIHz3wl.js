import{r as p,j as e,w as v,e as y,f as N}from"./chunk-PVWAREVJ-CitGXWPo.js";import{u as w}from"./ExpenseContext-dRyCgSrm.js";import{d as C,e as k,C as n,c as i,a as m,b as u,B as S}from"./badge-DD5JV3Nc.js";import{S as E}from"./index-CdLQGdTy.js";const W=k("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),r=p.forwardRef(({className:h,variant:o,size:d,asChild:x=!1,...c},l)=>{const a=x?E:"button";return e.jsx(a,{className:C(W({variant:o,size:d,className:h})),ref:l,...c})});r.displayName="Button";const M=v(function(){const{expenseId:o}=y(),d=N(),{expenses:x,updateExpense:c}=w(),[l,a]=p.useState(""),t=x.find(s=>s.id===o);if(!t)return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-[50vh]",children:e.jsx(n,{className:"w-full max-w-md",children:e.jsxs(i,{className:"text-center py-8",children:[e.jsx("p",{className:"text-muted-foreground text-lg mb-4",children:"지출 내역을 찾을 수 없습니다."}),e.jsx(r,{onClick:()=>d(-1),children:"목록으로 돌아가기"})]})})});const j=s=>new Date(s).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"}),f=s=>{switch(s){case"fixed":return"고정지출";case"additional":return"추가지출";default:return"미분류"}},g=s=>{c({...t,category:s}),a(`${f(s)}로 분류되었습니다.`),setTimeout(()=>a(""),2e3)},b=s=>{c({...t,sharedWith:s}),a(`${s}명으로 분할되었습니다.`),setTimeout(()=>a(""),2e3)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(r,{variant:"ghost",onClick:()=>d(-1),children:"← 뒤로가기"}),e.jsxs(n,{children:[e.jsxs(m,{className:"text-center",children:[e.jsx(u,{children:t.place}),e.jsx("p",{className:"text-muted-foreground",children:j(t.date)})]}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b",children:[e.jsx("span",{className:"font-medium",children:"총 금액"}),e.jsxs("span",{className:"text-xl font-bold",children:[t.amount.toLocaleString(),"원"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b",children:[e.jsx("span",{className:"font-medium",children:"결제 분류"}),e.jsx(S,{variant:t.category==="unclassified"?"destructive":"default",children:f(t.category)})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b",children:[e.jsx("span",{className:"font-medium",children:"분할 인원"}),e.jsxs("span",{className:"text-lg font-semibold",children:[t.sharedWith,"명"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 bg-secondary rounded-lg px-4",children:[e.jsx("span",{className:"font-medium",children:"개인 부담금"}),e.jsxs("span",{className:"text-xl font-bold",children:[Math.floor(t.amount/t.sharedWith).toLocaleString(),"원"]})]})]})]}),l&&e.jsx(n,{className:"border-green-200 bg-green-50",children:e.jsx(i,{className:"py-3 text-center text-green-800",children:l})}),t.category==="unclassified"&&e.jsxs(n,{children:[e.jsx(m,{children:e.jsx(u,{className:"text-lg",children:"분류 지정"})}),e.jsx(i,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(r,{onClick:()=>g("fixed"),className:"w-full",variant:"default",children:"고정지출"}),e.jsx(r,{onClick:()=>g("additional"),className:"w-full",variant:"default",children:"추가지출"})]})})]}),e.jsxs(n,{children:[e.jsx(m,{children:e.jsx(u,{className:"text-lg",children:"N분의 1 분할"})}),e.jsx(i,{children:e.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(s=>e.jsxs(r,{onClick:()=>b(s),disabled:t.sharedWith===s,variant:t.sharedWith===s?"secondary":"default",className:"w-full",children:[s,"명"]},s))})})]})]})});export{M as default};

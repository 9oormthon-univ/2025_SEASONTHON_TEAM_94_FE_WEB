import{r as u,j as e,w as D}from"./chunk-PVWAREVJ-CitGXWPo.js";import{u as O}from"./ExpenseContext-dRyCgSrm.js";import{d as T,C as x,c as h,b as j,a as b,B}from"./badge-DD5JV3Nc.js";import"./index-_XKzHB16.js";import{c as G}from"./index-CdLQGdTy.js";function H(r,t=[]){let n=[];function l(d,i){const o=u.createContext(i),s=n.length;n=[...n,i];const c=f=>{var C;const{scope:m,children:N,...p}=f,v=((C=m==null?void 0:m[r])==null?void 0:C[s])||o,V=u.useMemo(()=>p,Object.values(p));return e.jsx(v.Provider,{value:V,children:N})};c.displayName=d+"Provider";function w(f,m){var v;const N=((v=m==null?void 0:m[r])==null?void 0:v[s])||o,p=u.useContext(N);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${d}\``)}return[c,w]}const a=()=>{const d=n.map(i=>u.createContext(i));return function(o){const s=(o==null?void 0:o[r])||d;return u.useMemo(()=>({[`__scope${r}`]:{...o,[r]:s}}),[o,s])}};return a.scopeName=r,[l,X(a,...t)]}function X(...r){const t=r[0];if(r.length===1)return t;const n=()=>{const l=r.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(d){const i=l.reduce((o,{useScope:s,scopeName:c})=>{const f=s(d)[`__scope${c}`];return{...o,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var k=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],M=k.reduce((r,t)=>{const n=G(`Primitive.${t}`),l=u.forwardRef((a,d)=>{const{asChild:i,...o}=a,s=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(s,{...o,ref:d})});return l.displayName=`Primitive.${t}`,{...r,[t]:l}},{}),y="Progress",P=100,[F,te]=H(y),[U,W]=F(y),_=u.forwardRef((r,t)=>{const{__scopeProgress:n,value:l=null,max:a,getValueLabel:d=q,...i}=r;(a||a===0)&&!S(a)&&console.error(z(`${a}`,"Progress"));const o=S(a)?a:P;l!==null&&!$(l,o)&&console.error(J(`${l}`,"Progress"));const s=$(l,o)?l:null,c=g(s)?d(s,o):void 0;return e.jsx(U,{scope:n,value:s,max:o,children:e.jsx(M.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":g(s)?s:void 0,"aria-valuetext":c,role:"progressbar","data-state":I(s,o),"data-value":s??void 0,"data-max":o,...i,ref:t})})});_.displayName=y;var E="ProgressIndicator",R=u.forwardRef((r,t)=>{const{__scopeProgress:n,...l}=r,a=W(E,n);return e.jsx(M.div,{"data-state":I(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...l,ref:t})});R.displayName=E;function q(r,t){return`${Math.round(r/t*100)}%`}function I(r,t){return r==null?"indeterminate":r===t?"complete":"loading"}function g(r){return typeof r=="number"}function S(r){return g(r)&&!isNaN(r)&&r>0}function $(r,t){return g(r)&&!isNaN(r)&&r<=t&&r>=0}function z(r,t){return`Invalid prop \`max\` of value \`${r}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${P}\`.`}function J(r,t){return`Invalid prop \`value\` of value \`${r}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${P} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var L=_,K=R;const A=u.forwardRef(({className:r,value:t,...n},l)=>e.jsx(L,{ref:l,className:T("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...n,children:e.jsx(K,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));A.displayName=L.displayName;const re=D(function(){const{expenses:t}=O(),n=t.reduce((s,c)=>s+c.amount,0),l=t.reduce((s,c)=>s+c.amount/c.sharedWith,0),a=t.filter(s=>s.category==="unclassified").length,d=t.filter(s=>s.category==="fixed").length,i=t.filter(s=>s.category==="additional").length,o=[{name:"미분류",count:a,color:"red",amount:t.filter(s=>s.category==="unclassified").reduce((s,c)=>s+c.amount,0)},{name:"고정지출",count:d,color:"blue",amount:t.filter(s=>s.category==="fixed").reduce((s,c)=>s+c.amount,0)},{name:"추가지출",count:i,color:"green",amount:t.filter(s=>s.category==="additional").reduce((s,c)=>s+c.amount,0)}];return t.length===0?e.jsx("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center",children:e.jsx(x,{className:"w-full max-w-md",children:e.jsxs(h,{className:"py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📊"}),e.jsx(j,{className:"mb-2",children:"아직 지출 내역이 없어요"}),e.jsx("p",{className:"text-muted-foreground",children:"지출을 추가하면 리포트를 볼 수 있습니다."})]})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(x,{children:e.jsxs(b,{children:[e.jsx(j,{children:"지출 리포트"}),e.jsxs("p",{className:"text-muted-foreground",children:["총 ",t.length,"개의 지출 항목"]})]})}),e.jsxs("div",{className:"grid gap-4",children:[e.jsx(x,{children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"총 지출 금액"}),e.jsxs("p",{className:"text-2xl font-bold",children:[n.toLocaleString(),"원"]})]}),e.jsx("div",{className:"text-4xl",children:"💰"})]})})}),e.jsx(x,{children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"개인 부담금"}),e.jsxs("p",{className:"text-2xl font-bold text-primary",children:[Math.floor(l).toLocaleString(),"원"]})]}),e.jsx("div",{className:"text-4xl",children:"👤"})]})})})]}),e.jsxs(x,{children:[e.jsx(b,{children:e.jsx(j,{children:"카테고리별 분석"})}),e.jsx(h,{className:"space-y-4",children:o.map(s=>e.jsxs(x,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(B,{variant:s.color==="red"?"destructive":"default",children:s.name}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.count,"개"]})]}),e.jsxs("span",{className:"text-sm font-medium",children:[n>0?Math.round(s.amount/n*100):0,"%"]})]}),e.jsx("div",{className:"flex justify-between items-center mb-3",children:e.jsxs("span",{className:"text-sm text-muted-foreground",children:["총 금액: ",s.amount.toLocaleString(),"원"]})}),e.jsx(A,{value:n>0?s.amount/n*100:0,className:"h-2"})]},s.name))})]}),e.jsxs(x,{children:[e.jsx(b,{children:e.jsx(j,{children:"📈 요약"})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"평균 지출 금액:"}),e.jsxs("span",{className:"font-medium",children:[t.length>0?Math.floor(n/t.length).toLocaleString():0,"원"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"가장 큰 지출:"}),e.jsxs("span",{className:"font-medium",children:[t.length>0?Math.max(...t.map(s=>s.amount)).toLocaleString():0,"원"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"분류 완료율:"}),e.jsxs("span",{className:"font-medium",children:[Math.round((d+i)/Math.max(t.length,1)*100),"%"]})]})]})]})]})});export{re as default};
